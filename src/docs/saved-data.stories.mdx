import { Fragment } from 'react'
import { Meta, Story, Preview } from '@storybook/addon-docs/blocks'
import { Form } from '../index'
import { Step } from '../index'
import { Field } from '../index'
import { Input } from '../components/Input'
import { Select } from '../components/Select'

<Meta title='Examples|Saved Data' component={null} />

# Saved Data

Sometimes, you'll want to pre-populate your form with data, you can do this by passing in the data via the `savedData` prop, ensuring that the key matches the id of the field you want to populate.

```
const data = { 
  name: 'Jane', 
  age: 23, 
  gender: 'female' 
}
```

## Single Step
The config is the same for single step and multi step forms, as the form only needs the key: value pairs of the fields. If the field isn't found, the data will be omitted from the final result.

<Preview>
  <Story name='Single-Step'>
    <Form savedData={{ name: 'Jane', age: 23, gender: 'female' }} onSubmit={(formData) => alert(JSON.stringify(formData))}>
      {({ valid, handleSubmit }) => (
        <form onSubmit={handleSubmit}>
          <fieldset>
            <legend>Basic Form</legend>
            <Field id={'name'} required>{(field) => <Input label={'Name'} {...field} />}</Field>
            <Field id={'age'} required>{(field) => <Input label={'Age'} type={'number'} {...field} />}</Field>
            <Field id={'gender'} required>{(field) => 
              <Select label={'Gender'} options={[{ value: 'male', label: 'Male'}, { value: 'female', label: 'Female' }]} {...field} />}
            </Field>
          </fieldset>
          <p style={{ color: valid ? 'green' : 'red'}}>Form validity: {`${valid}`}</p>
          <button>Submit</button>
        </form>
      )}
    </Form>
  </Story>
</Preview>

